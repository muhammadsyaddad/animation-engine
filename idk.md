
api-1       | 2025-12-24 10:38:23 | INFO     | uvicorn.error | Application startup complete.
api-1       | INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
api-1       | 2025-12-24 10:38:23 | INFO     | uvicorn.error | Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
api-1       | INFO:     192.168.65.1:45360 - "GET /v1/health HTTP/1.1" 200 OK
api-1       | 2025-12-24 10:38:38 | INFO     | uvicorn.access | 192.168.65.1:45360 - "GET /v1/health HTTP/1.1" 200
api-1       | INFO:     192.168.65.1:45360 - "GET /v1/health HTTP/1.1" 200
api-1       | INFO:     192.168.65.1:45360 - "GET /v1/agents HTTP/1.1" 200 OK
api-1       | 2025-12-24 10:38:38 | INFO     | uvicorn.access | 192.168.65.1:45360 - "GET /v1/agents HTTP/1.1" 200
api-1       | INFO:     192.168.65.1:45360 - "GET /v1/agents HTTP/1.1" 200
api-1       | INFO:     192.168.65.1:45360 - "GET /v1/chat/sessions?user_only=true HTTP/1.1" 200 OK
api-1       | 2025-12-24 10:38:39 | INFO     | uvicorn.access | 192.168.65.1:45360 - "GET /v1/chat/sessions?user_only=true HTTP/1.1" 200
api-1       | INFO:     192.168.65.1:45360 - "GET /v1/chat/sessions?user_only=true HTTP/1.1" 200
api-1       | 2025-12-24 10:38:46,954 | INFO     | chart_inference | [chart_inference] Starting schema analysis | {'csv_path': 'artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'resolved_path': '(same)', 'sample_rows': 500}
api-1       | 2025-12-24 10:38:46 | INFO     | chart_inference | [chart_inference] Starting schema analysis | {'csv_path': 'artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'resolved_path': '(same)', 'sample_rows': 500}
api-1       | 2025-12-24 10:38:46,961 | DEBUG    | chart_inference | [chart_inference] Detected header row | {'header_row': 0, 'score': 7, 'filepath': 'Amazon.csv'}
api-1       | 2025-12-24 10:38:46,983 | DEBUG    | chart_inference | [chart_inference] CSV file loaded | {'csv_path': 'artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'header_row': 0, 'rows_loaded': 500, 'columns': ['OrderID', 'OrderDate', 'CustomerID', 'CustomerName', 'ProductID', 'ProductName', 'Category', 'Brand', 'Quantity', 'UnitPrice'], 'total_columns': 20}
api-1       | 2025-12-24 10:38:46,984 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'OrderID'}
api-1       | 2025-12-24 10:38:47,004 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'OrderDate'}
api-1       | 2025-12-24 10:38:47,006 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'CustomerID'}
api-1       | 2025-12-24 10:38:47,010 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'CustomerName'}
api-1       | 2025-12-24 10:38:47,013 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'ProductID'}
api-1       | 2025-12-24 10:38:47,015 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'ProductName'}
api-1       | 2025-12-24 10:38:47,020 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Category'}
api-1       | 2025-12-24 10:38:47,023 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Brand'}
api-1       | 2025-12-24 10:38:47,028 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Quantity'}
api-1       | 2025-12-24 10:38:47,031 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'UnitPrice'}
api-1       | 2025-12-24 10:38:47,037 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Discount'}
api-1       | 2025-12-24 10:38:47,041 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Tax'}
api-1       | 2025-12-24 10:38:47,044 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'ShippingCost'}
api-1       | 2025-12-24 10:38:47,047 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'TotalAmount'}
api-1       | 2025-12-24 10:38:47,052 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'PaymentMethod'}
api-1       | 2025-12-24 10:38:47,055 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'OrderStatus'}
api-1       | 2025-12-24 10:38:47,059 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'City'}
api-1       | 2025-12-24 10:38:47,062 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'State'}
api-1       | 2025-12-24 10:38:47,064 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Country'}
api-1       | 2025-12-24 10:38:47,069 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'SellerID'}
api-1       | 2025-12-24 10:38:47,076 | INFO     | chart_inference | [chart_inference] Schema analysis completed | {'csv_path': 'artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'elapsed_ms': 122.06, 'row_count': 500, 'column_count': 20, 'numeric_columns': ['Quantity', 'UnitPrice', 'Discount', 'Tax', 'ShippingCost', 'TotalAmount'], 'categorical_columns': ['OrderID', 'OrderDate', 'CustomerID', 'CustomerName', 'ProductID', 'ProductName', 'Category', 'Brand', 'PaymentMethod', 'OrderStatus', 'City', 'State', 'Country', 'SellerID'], 'has_time': False, 'time_column': None, 'is_wide_format': False, 'entity_count': 500}
api-1       | 2025-12-24 10:38:47 | INFO     | chart_inference | [chart_inference] Schema analysis completed | {'csv_path': 'artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'elapsed_ms': 122.06, 'row_count': 500, 'column_count': 20, 'numeric_columns': ['Quantity', 'UnitPrice', 'Discount', 'Tax', 'ShippingCost', 'TotalAmount'], 'categorical_columns': ['OrderID', 'OrderDate', 'CustomerID', 'CustomerName', 'ProductID', 'ProductName', 'Category', 'Brand', 'PaymentMethod', 'OrderStatus', 'City', 'State', 'Country', 'SellerID'], 'has_time': False, 'time_column': None, 'is_wide_format': False, 'entity_count': 500}
api-1       | INFO:     192.168.65.1:45724 - "POST /v1/datasets/upload HTTP/1.1" 201 Created
api-1       | 2025-12-24 10:38:47 | INFO     | uvicorn.access | 192.168.65.1:45724 - "POST /v1/datasets/upload HTTP/1.1" 201
api-1       | INFO:     192.168.65.1:45724 - "POST /v1/datasets/upload HTTP/1.1" 201
api-1       | 2025-12-24 10:38:51 | INFO     | intent_detection | [intent_detection] Starting full intent detection | {'message_length': 88, 'has_csv_path': True, 'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv'}
api-1       | 2025-12-24 10:38:51 | INFO     | intent_detection | [intent_detection] Quick intent check completed | {'animation_requested': True, 'chart_type': 'unknown', 'confidence': 0.45, 'has_code': False, 'elapsed_ms': 0.18}
api-1       | 2025-12-24 10:38:51 | INFO     | intent_detection | [intent_detection] Enhancing with data-driven analysis | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'initial_chart_type': 'unknown', 'initial_confidence': 0.45}
api-1       | 2025-12-24 10:38:51 | INFO     | chart_inference | [chart_inference] Starting chart recommendation | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'has_user_prompt': True, 'prompt_length': 88, 'sample_rows': 500}
api-1       | 2025-12-24 10:38:51,844 | INFO     | intent_detection | [intent_detection] Starting full intent detection | {'message_length': 88, 'has_csv_path': True, 'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv'}
api-1       | 2025-12-24 10:38:51,844 | DEBUG    | intent_detection | [intent_detection] Starting quick intent check | {'message_length': 88}
api-1       | 2025-12-24 10:38:51,844 | DEBUG    | intent_detection | [intent_detection] Pattern matching results | {'code_hits': 0, 'strong_hits': 1, 'medium_hits': 0}
api-1       | 2025-12-24 10:38:51,844 | INFO     | intent_detection | [intent_detection] Quick intent check completed | {'animation_requested': True, 'chart_type': 'unknown', 'confidence': 0.45, 'has_code': False, 'elapsed_ms': 0.18}
api-1       | 2025-12-24 10:38:51,845 | INFO     | intent_detection | [intent_detection] Enhancing with data-driven analysis | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'initial_chart_type': 'unknown', 'initial_confidence': 0.45}
api-1       | 2025-12-24 10:38:51,845 | DEBUG    | intent_detection | [intent_detection] Calling chart inference module | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv'}
api-1       | 2025-12-24 10:38:51,845 | INFO     | chart_inference | [chart_inference] Starting chart recommendation | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'has_user_prompt': True, 'prompt_length': 88, 'sample_rows': 500}
api-1       | 2025-12-24 10:38:51,845 | DEBUG    | chart_inference | [chart_inference] Resolved static path to filesystem | {'original': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'resolved': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv'}
api-1       | 2025-12-24 10:38:51,845 | INFO     | chart_inference | [chart_inference] Starting schema analysis | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'resolved_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'sample_rows': 500}
api-1       | 2025-12-24 10:38:51 | INFO     | chart_inference | [chart_inference] Starting schema analysis | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'resolved_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'sample_rows': 500}
api-1       | 2025-12-24 10:38:51,896 | DEBUG    | chart_inference | [chart_inference] Detected header row | {'header_row': 0, 'score': 7, 'filepath': 'Amazon.csv'}
api-1       | 2025-12-24 10:38:51,939 | DEBUG    | chart_inference | [chart_inference] CSV file loaded | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'header_row': 0, 'rows_loaded': 500, 'columns': ['OrderID', 'OrderDate', 'CustomerID', 'CustomerName', 'ProductID', 'ProductName', 'Category', 'Brand', 'Quantity', 'UnitPrice'], 'total_columns': 20}
api-1       | 2025-12-24 10:38:51,939 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'OrderID'}
api-1       | 2025-12-24 10:38:51,942 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'OrderDate'}
api-1       | 2025-12-24 10:38:51,945 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'CustomerID'}
api-1       | 2025-12-24 10:38:51,951 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'CustomerName'}
api-1       | 2025-12-24 10:38:51,955 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'ProductID'}
api-1       | 2025-12-24 10:38:51,962 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'ProductName'}
api-1       | 2025-12-24 10:38:51,967 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Category'}
api-1       | 2025-12-24 10:38:51,970 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Brand'}
api-1       | 2025-12-24 10:38:51,972 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Quantity'}
api-1       | 2025-12-24 10:38:51,975 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'UnitPrice'}
api-1       | 2025-12-24 10:38:51,978 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Discount'}
api-1       | 2025-12-24 10:38:51,978 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Tax'}
api-1       | 2025-12-24 10:38:51,984 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'ShippingCost'}
api-1       | 2025-12-24 10:38:51,986 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'TotalAmount'}
api-1       | 2025-12-24 10:38:51,987 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'PaymentMethod'}
api-1       | 2025-12-24 10:38:51,991 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'OrderStatus'}
api-1       | 2025-12-24 10:38:51,993 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'City'}
api-1       | 2025-12-24 10:38:51,996 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'State'}
api-1       | 2025-12-24 10:38:52,004 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Country'}
api-1       | 2025-12-24 10:38:52,005 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'SellerID'}
api-1       | 2025-12-24 10:38:52,013 | INFO     | chart_inference | [chart_inference] Schema analysis completed | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'elapsed_ms': 168.05, 'row_count': 500, 'column_count': 20, 'numeric_columns': ['Quantity', 'UnitPrice', 'Discount', 'Tax', 'ShippingCost', 'TotalAmount'], 'categorical_columns': ['OrderID', 'OrderDate', 'CustomerID', 'CustomerName', 'ProductID', 'ProductName', 'Category', 'Brand', 'PaymentMethod', 'OrderStatus', 'City', 'State', 'Country', 'SellerID'], 'has_time': False, 'time_column': None, 'is_wide_format': False, 'entity_count': 500}
api-1       | 2025-12-24 10:38:52,013 | DEBUG    | chart_inference | [chart_inference] Schema analysis completed for recommendation | {'has_time': False, 'numeric_count': 6, 'categorical_count': 14, 'entity_count': 500}
api-1       | 2025-12-24 10:38:52 | INFO     | chart_inference | [chart_inference] Schema analysis completed | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'elapsed_ms': 168.05, 'row_count': 500, 'column_count': 20, 'numeric_columns': ['Quantity', 'UnitPrice', 'Discount', 'Tax', 'ShippingCost', 'TotalAmount'], 'categorical_columns': ['OrderID', 'OrderDate', 'CustomerID', 'CustomerName', 'ProductID', 'ProductName', 'Category', 'Brand', 'PaymentMethod', 'OrderStatus', 'City', 'State', 'Country', 'SellerID'], 'has_time': False, 'time_column': None, 'is_wide_format': False, 'entity_count': 500}
api-1       | 2025-12-24 10:38:52,013 | DEBUG    | chart_inference | [chart_inference] ChartRecommendation created | {'chart_type': 'bubble', 'score': 0.5, 'confidence': 'medium', 'reasons_count': 2, 'warnings_count': 2}
api-1       | 2025-12-24 10:38:52,024 | DEBUG    | chart_inference | [chart_inference] ChartRecommendation created | {'chart_type': 'bar_race', 'score': 0.5, 'confidence': 'medium', 'reasons_count': 2, 'warnings_count': 2}
api-1       | 2025-12-24 10:38:52,029 | DEBUG    | chart_inference | [chart_inference] ChartRecommendation created | {'chart_type': 'line_evolution', 'score': 0.5, 'confidence': 'medium', 'reasons_count': 2, 'warnings_count': 2}
api-1       | 2025-12-24 10:38:52,039 | DEBUG    | chart_inference | [chart_inference] ChartRecommendation created | {'chart_type': 'distribution', 'score': 0.65, 'confidence': 'medium', 'reasons_count': 3, 'warnings_count': 0}
api-1       | 2025-12-24 10:38:52,042 | DEBUG    | chart_inference | [chart_inference] ChartRecommendation created | {'chart_type': 'bento_grid', 'score': 0.65, 'confidence': 'medium', 'reasons_count': 3, 'warnings_count': 0}
api-1       | 2025-12-24 10:38:52,047 | DEBUG    | chart_inference | [chart_inference] ChartRecommendation created | {'chart_type': 'count_bar', 'score': 0.9, 'confidence': 'high', 'reasons_count': 4, 'warnings_count': 0}
api-1       | 2025-12-24 10:38:52,057 | DEBUG    | chart_inference | [chart_inference] ChartRecommendation created | {'chart_type': 'single_numeric', 'score': 0.75, 'confidence': 'high', 'reasons_count': 4, 'warnings_count': 2}
api-1       | 2025-12-24 10:38:52,062 | INFO     | chart_inference | [chart_inference] Chart recommendation completed | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'elapsed_ms': 217.01, 'top_recommendation': 'count_bar', 'top_score': 0.9, 'top_confidence': 'high', 'all_scores': {'count_bar': 0.9, 'single_numeric': 0.75, 'distribution': 0.65, 'bento_grid': 0.65, 'bubble': 0.5, 'bar_race': 0.5, 'line_evolution': 0.5}}
api-1       | 2025-12-24 10:38:52,062 | INFO     | intent_detection | [intent_detection] Intent detection completed | {'animation_requested': True, 'chart_type': 'count_bar', 'confidence': 0.9, 'data_analyzed': True, 'recommended_charts': ['count_bar', 'single_numeric', 'distribution'], 'elapsed_ms': 218.02}
api-1       | 2025-12-24 10:38:52 | INFO     | chart_inference | [chart_inference] Chart recommendation completed | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'elapsed_ms': 217.01, 'top_recommendation': 'count_bar', 'top_score': 0.9, 'top_confidence': 'high', 'all_scores': {'count_bar': 0.9, 'single_numeric': 0.75, 'distribution': 0.65, 'bento_grid': 0.65, 'bubble': 0.5, 'bar_race': 0.5, 'line_evolution': 0.5}}
api-1       | 2025-12-24 10:38:52 | INFO     | intent_detection | [intent_detection] Intent detection completed | {'animation_requested': True, 'chart_type': 'count_bar', 'confidence': 0.9, 'data_analyzed': True, 'recommended_charts': ['count_bar', 'single_numeric', 'distribution'], 'elapsed_ms': 218.02}
api-1       | INFO:     192.168.65.1:45724 - "POST /v1/agents/animation_agent/runs HTTP/1.1" 200 OK
api-1       | 2025-12-24 10:38:52 | INFO     | uvicorn.access | 192.168.65.1:45724 - "POST /v1/agents/animation_agent/runs HTTP/1.1" 200
api-1       | INFO:     192.168.65.1:45724 - "POST /v1/agents/animation_agent/runs HTTP/1.1" 200
api-1       | 2025-12-24 10:38:52 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [run_started] Animation pipeline run started | {"message_length": 88, "has_csv_path": true, "has_csv_dir": false, "chart_type_override": null, "code_engine": null, "code_model": null}
api-1       | 2025-12-24 10:38:52 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [run_started] Animation pipeline run started | {"message_length": 88, "has_csv_path": true, "has_csv_dir": false, "chart_type_override": null, "code_engine": null, "code_model": null}
api-1       | 2025-12-24 10:38:52 | INFO     | intent_detection | [intent_detection] Starting full intent detection | {'message_length': 88, 'has_csv_path': True, 'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv'}
api-1       | 2025-12-24 10:38:52,098 | INFO     | intent_detection | [intent_detection] Starting full intent detection | {'message_length': 88, 'has_csv_path': True, 'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv'}
api-1       | 2025-12-24 10:38:52,098 | DEBUG    | intent_detection | [intent_detection] Starting quick intent check | {'message_length': 88}
api-1       | 2025-12-24 10:38:52,099 | DEBUG    | intent_detection | [intent_detection] Pattern matching results | {'code_hits': 0, 'strong_hits': 1, 'medium_hits': 0}
api-1       | 2025-12-24 10:38:52,099 | INFO     | intent_detection | [intent_detection] Quick intent check completed | {'animation_requested': True, 'chart_type': 'unknown', 'confidence': 0.45, 'has_code': False, 'elapsed_ms': 0.31}
api-1       | 2025-12-24 10:38:52,099 | INFO     | intent_detection | [intent_detection] Enhancing with data-driven analysis | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'initial_chart_type': 'unknown', 'initial_confidence': 0.45}
api-1       | 2025-12-24 10:38:52,101 | DEBUG    | intent_detection | [intent_detection] Calling chart inference module | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv'}
api-1       | 2025-12-24 10:38:52,101 | INFO     | chart_inference | [chart_inference] Starting chart recommendation | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'has_user_prompt': True, 'prompt_length': 88, 'sample_rows': 500}
api-1       | 2025-12-24 10:38:52 | INFO     | intent_detection | [intent_detection] Quick intent check completed | {'animation_requested': True, 'chart_type': 'unknown', 'confidence': 0.45, 'has_code': False, 'elapsed_ms': 0.31}
api-1       | 2025-12-24 10:38:52 | INFO     | intent_detection | [intent_detection] Enhancing with data-driven analysis | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'initial_chart_type': 'unknown', 'initial_confidence': 0.45}
api-1       | 2025-12-24 10:38:52 | INFO     | chart_inference | [chart_inference] Starting chart recommendation | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'has_user_prompt': True, 'prompt_length': 88, 'sample_rows': 500}
api-1       | 2025-12-24 10:38:52 | INFO     | chart_inference | [chart_inference] Starting schema analysis | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'resolved_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'sample_rows': 500}
api-1       | 2025-12-24 10:38:52,101 | DEBUG    | chart_inference | [chart_inference] Resolved static path to filesystem | {'original': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'resolved': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv'}
api-1       | 2025-12-24 10:38:52,101 | INFO     | chart_inference | [chart_inference] Starting schema analysis | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'resolved_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'sample_rows': 500}
api-1       | 2025-12-24 10:38:52,108 | DEBUG    | chart_inference | [chart_inference] Detected header row | {'header_row': 0, 'score': 7, 'filepath': 'Amazon.csv'}
api-1       | 2025-12-24 10:38:52,118 | DEBUG    | chart_inference | [chart_inference] CSV file loaded | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'header_row': 0, 'rows_loaded': 500, 'columns': ['OrderID', 'OrderDate', 'CustomerID', 'CustomerName', 'ProductID', 'ProductName', 'Category', 'Brand', 'Quantity', 'UnitPrice'], 'total_columns': 20}
api-1       | 2025-12-24 10:38:52,119 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'OrderID'}
api-1       | 2025-12-24 10:38:52,122 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'OrderDate'}
api-1       | 2025-12-24 10:38:52,124 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'CustomerID'}
api-1       | 2025-12-24 10:38:52,126 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'CustomerName'}
api-1       | 2025-12-24 10:38:52,129 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'ProductID'}
api-1       | 2025-12-24 10:38:52,130 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'ProductName'}
api-1       | 2025-12-24 10:38:52,134 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Category'}
api-1       | 2025-12-24 10:38:52,136 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Brand'}
api-1       | 2025-12-24 10:38:52,139 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Quantity'}
api-1       | 2025-12-24 10:38:52,141 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'UnitPrice'}
api-1       | 2025-12-24 10:38:52,142 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Discount'}
api-1       | 2025-12-24 10:38:52,150 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Tax'}
api-1       | 2025-12-24 10:38:52,152 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'ShippingCost'}
api-1       | 2025-12-24 10:38:52,155 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'TotalAmount'}
api-1       | 2025-12-24 10:38:52,158 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'PaymentMethod'}
api-1       | 2025-12-24 10:38:52,161 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'OrderStatus'}
api-1       | 2025-12-24 10:38:52,166 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'City'}
api-1       | 2025-12-24 10:38:52,169 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'State'}
api-1       | 2025-12-24 10:38:52,171 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Country'}
api-1       | 2025-12-24 10:38:52,174 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'SellerID'}
api-1       | 2025-12-24 10:38:52,180 | INFO     | chart_inference | [chart_inference] Schema analysis completed | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'elapsed_ms': 79.45, 'row_count': 500, 'column_count': 20, 'numeric_columns': ['Quantity', 'UnitPrice', 'Discount', 'Tax', 'ShippingCost', 'TotalAmount'], 'categorical_columns': ['OrderID', 'OrderDate', 'CustomerID', 'CustomerName', 'ProductID', 'ProductName', 'Category', 'Brand', 'PaymentMethod', 'OrderStatus', 'City', 'State', 'Country', 'SellerID'], 'has_time': False, 'time_column': None, 'is_wide_format': False, 'entity_count': 500}
api-1       | 2025-12-24 10:38:52 | INFO     | chart_inference | [chart_inference] Schema analysis completed | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'elapsed_ms': 79.45, 'row_count': 500, 'column_count': 20, 'numeric_columns': ['Quantity', 'UnitPrice', 'Discount', 'Tax', 'ShippingCost', 'TotalAmount'], 'categorical_columns': ['OrderID', 'OrderDate', 'CustomerID', 'CustomerName', 'ProductID', 'ProductName', 'Category', 'Brand', 'PaymentMethod', 'OrderStatus', 'City', 'State', 'Country', 'SellerID'], 'has_time': False, 'time_column': None, 'is_wide_format': False, 'entity_count': 500}
api-1       | 2025-12-24 10:38:52,185 | DEBUG    | chart_inference | [chart_inference] Schema analysis completed for recommendation | {'has_time': False, 'numeric_count': 6, 'categorical_count': 14, 'entity_count': 500}
api-1       | 2025-12-24 10:38:52,185 | DEBUG    | chart_inference | [chart_inference] ChartRecommendation created | {'chart_type': 'bubble', 'score': 0.5, 'confidence': 'medium', 'reasons_count': 2, 'warnings_count': 2}
api-1       | 2025-12-24 10:38:52,185 | DEBUG    | chart_inference | [chart_inference] ChartRecommendation created | {'chart_type': 'bar_race', 'score': 0.5, 'confidence': 'medium', 'reasons_count': 2, 'warnings_count': 2}
api-1       | 2025-12-24 10:38:52,185 | DEBUG    | chart_inference | [chart_inference] ChartRecommendation created | {'chart_type': 'line_evolution', 'score': 0.5, 'confidence': 'medium', 'reasons_count': 2, 'warnings_count': 2}
api-1       | 2025-12-24 10:38:52,188 | DEBUG    | chart_inference | [chart_inference] ChartRecommendation created | {'chart_type': 'distribution', 'score': 0.65, 'confidence': 'medium', 'reasons_count': 3, 'warnings_count': 0}
api-1       | 2025-12-24 10:38:52,189 | DEBUG    | chart_inference | [chart_inference] ChartRecommendation created | {'chart_type': 'bento_grid', 'score': 0.65, 'confidence': 'medium', 'reasons_count': 3, 'warnings_count': 0}
api-1       | 2025-12-24 10:38:52,189 | DEBUG    | chart_inference | [chart_inference] ChartRecommendation created | {'chart_type': 'count_bar', 'score': 0.9, 'confidence': 'high', 'reasons_count': 4, 'warnings_count': 0}
api-1       | 2025-12-24 10:38:52,189 | DEBUG    | chart_inference | [chart_inference] ChartRecommendation created | {'chart_type': 'single_numeric', 'score': 0.75, 'confidence': 'high', 'reasons_count': 4, 'warnings_count': 2}
api-1       | 2025-12-24 10:38:52,190 | INFO     | chart_inference | [chart_inference] Chart recommendation completed | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'elapsed_ms': 89.34, 'top_recommendation': 'count_bar', 'top_score': 0.9, 'top_confidence': 'high', 'all_scores': {'count_bar': 0.9, 'single_numeric': 0.75, 'distribution': 0.65, 'bento_grid': 0.65, 'bubble': 0.5, 'bar_race': 0.5, 'line_evolution': 0.5}}
api-1       | 2025-12-24 10:38:52,192 | INFO     | intent_detection | [intent_detection] Intent detection completed | {'animation_requested': True, 'chart_type': 'count_bar', 'confidence': 0.9, 'data_analyzed': True, 'recommended_charts': ['count_bar', 'single_numeric', 'distribution'], 'elapsed_ms': 93.78}
api-1       | 2025-12-24 10:38:52 | INFO     | chart_inference | [chart_inference] Chart recommendation completed | {'csv_path': '/static/datasets/dataset_20251224_103846/Amazon.csv', 'elapsed_ms': 89.34, 'top_recommendation': 'count_bar', 'top_score': 0.9, 'top_confidence': 'high', 'all_scores': {'count_bar': 0.9, 'single_numeric': 0.75, 'distribution': 0.65, 'bento_grid': 0.65, 'bubble': 0.5, 'bar_race': 0.5, 'line_evolution': 0.5}}
api-1       | 2025-12-24 10:38:52 | INFO     | intent_detection | [intent_detection] Intent detection completed | {'animation_requested': True, 'chart_type': 'count_bar', 'confidence': 0.9, 'data_analyzed': True, 'recommended_charts': ['count_bar', 'single_numeric', 'distribution'], 'elapsed_ms': 93.78}
api-1       | 2025-12-24 10:38:52 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_preprocessing] Checking raw_dataset_path | {"raw_dataset_path": "/static/datasets/dataset_20251224_103846/Amazon.csv", "raw_dataset_path_type": "str", "body_csv_path": "/static/datasets/dataset_20251224_103846/Amazon.csv", "will_preprocess": true}
api-1       | 2025-12-24 10:38:52 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_preprocessing] Checking raw_dataset_path | {"raw_dataset_path": "/static/datasets/dataset_20251224_103846/Amazon.csv", "raw_dataset_path_type": "str", "body_csv_path": "/static/datasets/dataset_20251224_103846/Amazon.csv", "will_preprocess": true}
api-1       | 2025-12-24 10:38:52 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_preprocessing] Starting data preprocessing | {"raw_dataset_path": "/static/datasets/dataset_20251224_103846/Amazon.csv"}
api-1       | 2025-12-24 10:38:52 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_preprocessing] Starting data preprocessing | {"raw_dataset_path": "/static/datasets/dataset_20251224_103846/Amazon.csv"}
api-1       | 2025-12-24 10:38:52 | INFO     | data_modules | [resolve_csv_path] Resolving static path | original=/static/datasets/dataset_20251224_103846/Amazon.csv | cwd=/app | artifacts_root=/app/artifacts | fs_candidate=/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv | exists=True
api-1       | 2025-12-24 10:38:52 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_preprocessing] Path resolution result | {"original_path": "/static/datasets/dataset_20251224_103846/Amazon.csv", "resolved_path": "/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv", "path_changed": true, "file_exists": true, "cwd": "/app"}
api-1       | 2025-12-24 10:38:52 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_preprocessing] Path resolution result | {"original_path": "/static/datasets/dataset_20251224_103846/Amazon.csv", "resolved_path": "/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv", "path_changed": true, "file_exists": true, "cwd": "/app"}
api-1       | 2025-12-24 10:38:52 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_preprocessing] Pre-spec-inference state | {"provisional_binding_set": true, "provisional_binding": {"group_col": "OrderID", "time_col": "OrderDate", "value_col": "Quantity", "normalized_col": "normalized_value", "anomaly_flag_col": "is_anomaly"}, "melted_dataset_path": null, "dataset_melt_applied": false, "body_chart_type": null, "auto_select_templates": false}
api-1       | 2025-12-24 10:38:52 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_preprocessing] Pre-spec-inference state | {"provisional_binding_set": true, "provisional_binding": {"group_col": "OrderID", "time_col": "OrderDate", "value_col": "Quantity", "normalized_col": "normalized_value", "anomaly_flag_col": "is_anomaly"}, "melted_dataset_path": null, "dataset_melt_applied": false, "body_chart_type": null, "auto_select_templates": false}
api-1       | 2025-12-24 10:38:52 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_preprocessing] Spec inference complete | {"spec_is_none": false, "spec_chart_type": "unknown", "spec_has_data_binding": true}
api-1       | 2025-12-24 10:38:52 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_preprocessing] Spec inference complete | {"spec_is_none": false, "spec_chart_type": "unknown", "spec_has_data_binding": true}
api-1       | 2025-12-24 10:38:52 | INFO     | chart_inference | [chart_inference] Starting chart recommendation | {'csv_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'has_user_prompt': True, 'prompt_length': 88, 'sample_rows': 500}
api-1       | 2025-12-24 10:38:52 | INFO     | chart_inference | [chart_inference] Starting schema analysis | {'csv_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'resolved_path': '(same)', 'sample_rows': 500}
api-1       | 2025-12-24 10:38:52,407 | INFO     | chart_inference | [chart_inference] Starting chart recommendation | {'csv_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'has_user_prompt': True, 'prompt_length': 88, 'sample_rows': 500}
api-1       | 2025-12-24 10:38:52,407 | INFO     | chart_inference | [chart_inference] Starting schema analysis | {'csv_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'resolved_path': '(same)', 'sample_rows': 500}
api-1       | 2025-12-24 10:38:52,413 | DEBUG    | chart_inference | [chart_inference] Detected header row | {'header_row': 0, 'score': 7, 'filepath': 'Amazon.csv'}
api-1       | 2025-12-24 10:38:52,423 | DEBUG    | chart_inference | [chart_inference] CSV file loaded | {'csv_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'header_row': 0, 'rows_loaded': 500, 'columns': ['OrderID', 'OrderDate', 'CustomerID', 'CustomerName', 'ProductID', 'ProductName', 'Category', 'Brand', 'Quantity', 'UnitPrice'], 'total_columns': 20}
api-1       | 2025-12-24 10:38:52,423 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'OrderID'}
api-1       | 2025-12-24 10:38:52,426 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'OrderDate'}
api-1       | 2025-12-24 10:38:52,427 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'CustomerID'}
api-1       | 2025-12-24 10:38:52,431 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'CustomerName'}
api-1       | 2025-12-24 10:38:52,435 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'ProductID'}
api-1       | 2025-12-24 10:38:52,438 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'ProductName'}
api-1       | 2025-12-24 10:38:52,440 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Category'}
api-1       | 2025-12-24 10:38:52,443 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Brand'}
api-1       | 2025-12-24 10:38:52,446 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Quantity'}
api-1       | 2025-12-24 10:38:52,447 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'UnitPrice'}
api-1       | 2025-12-24 10:38:52,450 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Discount'}
api-1       | 2025-12-24 10:38:52,453 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Tax'}
api-1       | 2025-12-24 10:38:52,454 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'ShippingCost'}
api-1       | 2025-12-24 10:38:52,457 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'TotalAmount'}
api-1       | 2025-12-24 10:38:52,458 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'PaymentMethod'}
api-1       | 2025-12-24 10:38:52,463 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'OrderStatus'}
api-1       | 2025-12-24 10:38:52,468 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'City'}
api-1       | 2025-12-24 10:38:52,471 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'State'}
api-1       | 2025-12-24 10:38:52,473 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Country'}
api-1       | 2025-12-24 10:38:52,477 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'SellerID'}
api-1       | 2025-12-24 10:38:52,484 | INFO     | chart_inference | [chart_inference] Schema analysis completed | {'csv_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'elapsed_ms': 77.74, 'row_count': 500, 'column_count': 20, 'numeric_columns': ['Quantity', 'UnitPrice', 'Discount', 'Tax', 'ShippingCost', 'TotalAmount'], 'categorical_columns': ['OrderID', 'OrderDate', 'CustomerID', 'CustomerName', 'ProductID', 'ProductName', 'Category', 'Brand', 'PaymentMethod', 'OrderStatus', 'City', 'State', 'Country', 'SellerID'], 'has_time': False, 'time_column': None, 'is_wide_format': False, 'entity_count': 500}
api-1       | 2025-12-24 10:38:52,485 | DEBUG    | chart_inference | [chart_inference] Schema analysis completed for recommendation | {'has_time': False, 'numeric_count': 6, 'categorical_count': 14, 'entity_count': 500}
api-1       | 2025-12-24 10:38:52,485 | DEBUG    | chart_inference | [chart_inference] ChartRecommendation created | {'chart_type': 'bubble', 'score': 0.5, 'confidence': 'medium', 'reasons_count': 2, 'warnings_count': 2}
api-1       | 2025-12-24 10:38:52 | INFO     | chart_inference | [chart_inference] Schema analysis completed | {'csv_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'elapsed_ms': 77.74, 'row_count': 500, 'column_count': 20, 'numeric_columns': ['Quantity', 'UnitPrice', 'Discount', 'Tax', 'ShippingCost', 'TotalAmount'], 'categorical_columns': ['OrderID', 'OrderDate', 'CustomerID', 'CustomerName', 'ProductID', 'ProductName', 'Category', 'Brand', 'PaymentMethod', 'OrderStatus', 'City', 'State', 'Country', 'SellerID'], 'has_time': False, 'time_column': None, 'is_wide_format': False, 'entity_count': 500}
api-1       | 2025-12-24 10:38:52,488 | DEBUG    | chart_inference | [chart_inference] ChartRecommendation created | {'chart_type': 'bar_race', 'score': 0.5, 'confidence': 'medium', 'reasons_count': 2, 'warnings_count': 2}
api-1       | 2025-12-24 10:38:52,488 | DEBUG    | chart_inference | [chart_inference] ChartRecommendation created | {'chart_type': 'line_evolution', 'score': 0.5, 'confidence': 'medium', 'reasons_count': 2, 'warnings_count': 2}
api-1       | 2025-12-24 10:38:52,490 | DEBUG    | chart_inference | [chart_inference] ChartRecommendation created | {'chart_type': 'distribution', 'score': 0.65, 'confidence': 'medium', 'reasons_count': 3, 'warnings_count': 0}
api-1       | 2025-12-24 10:38:52,491 | DEBUG    | chart_inference | [chart_inference] ChartRecommendation created | {'chart_type': 'bento_grid', 'score': 0.65, 'confidence': 'medium', 'reasons_count': 3, 'warnings_count': 0}
api-1       | 2025-12-24 10:38:52,491 | DEBUG    | chart_inference | [chart_inference] ChartRecommendation created | {'chart_type': 'count_bar', 'score': 0.9, 'confidence': 'high', 'reasons_count': 4, 'warnings_count': 0}
api-1       | 2025-12-24 10:38:52,491 | DEBUG    | chart_inference | [chart_inference] ChartRecommendation created | {'chart_type': 'single_numeric', 'score': 0.75, 'confidence': 'high', 'reasons_count': 4, 'warnings_count': 2}
api-1       | 2025-12-24 10:38:52,491 | INFO     | chart_inference | [chart_inference] Chart recommendation completed | {'csv_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'elapsed_ms': 84.38, 'top_recommendation': 'count_bar', 'top_score': 0.9, 'top_confidence': 'high', 'all_scores': {'count_bar': 0.9, 'single_numeric': 0.75, 'distribution': 0.65, 'bento_grid': 0.65, 'bubble': 0.5, 'bar_race': 0.5, 'line_evolution': 0.5}}
api-1       | 2025-12-24 10:38:52 | INFO     | chart_inference | [chart_inference] Chart recommendation completed | {'csv_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'elapsed_ms': 84.38, 'top_recommendation': 'count_bar', 'top_score': 0.9, 'top_confidence': 'high', 'all_scores': {'count_bar': 0.9, 'single_numeric': 0.75, 'distribution': 0.65, 'bento_grid': 0.65, 'bubble': 0.5, 'bar_race': 0.5, 'line_evolution': 0.5}}
api-1       | 2025-12-24 10:38:52 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_preprocessing] Auto-select disabled, emitting template suggestions | {"top_recommendation": "count_bar", "confidence": 0.9, "num_recommendations": 7}
api-1       | 2025-12-24 10:38:52 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_preprocessing] Auto-select disabled, emitting template suggestions | {"top_recommendation": "count_bar", "confidence": 0.9, "num_recommendations": 7}
api-1       | 2025-12-24 10:38:52,495 | INFO     | chart_inference | [chart_inference] Starting schema analysis | {'csv_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'resolved_path': '(same)', 'sample_rows': 500}
api-1       | 2025-12-24 10:38:52 | INFO     | chart_inference | [chart_inference] Starting schema analysis | {'csv_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'resolved_path': '(same)', 'sample_rows': 500}
api-1       | 2025-12-24 10:38:52,503 | DEBUG    | chart_inference | [chart_inference] Detected header row | {'header_row': 0, 'score': 7, 'filepath': 'Amazon.csv'}
api-1       | 2025-12-24 10:38:52,515 | DEBUG    | chart_inference | [chart_inference] CSV file loaded | {'csv_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'header_row': 0, 'rows_loaded': 500, 'columns': ['OrderID', 'OrderDate', 'CustomerID', 'CustomerName', 'ProductID', 'ProductName', 'Category', 'Brand', 'Quantity', 'UnitPrice'], 'total_columns': 20}
api-1       | 2025-12-24 10:38:52,515 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'OrderID'}
api-1       | 2025-12-24 10:38:52,519 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'OrderDate'}
api-1       | 2025-12-24 10:38:52,522 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'CustomerID'}
api-1       | 2025-12-24 10:38:52,532 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'CustomerName'}
api-1       | 2025-12-24 10:38:52,534 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'ProductID'}
api-1       | 2025-12-24 10:38:52,537 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'ProductName'}
api-1       | 2025-12-24 10:38:52,539 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Category'}
api-1       | 2025-12-24 10:38:52,543 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Brand'}
api-1       | 2025-12-24 10:38:52,546 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Quantity'}
api-1       | 2025-12-24 10:38:52,547 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'UnitPrice'}
api-1       | 2025-12-24 10:38:52,550 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Discount'}
api-1       | 2025-12-24 10:38:52,551 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Tax'}
api-1       | 2025-12-24 10:38:52,554 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'ShippingCost'}
api-1       | 2025-12-24 10:38:52,556 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'TotalAmount'}
api-1       | 2025-12-24 10:38:52,559 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'PaymentMethod'}
api-1       | 2025-12-24 10:38:52,561 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'OrderStatus'}
api-1       | 2025-12-24 10:38:52,563 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'City'}
api-1       | 2025-12-24 10:38:52,566 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'State'}
api-1       | 2025-12-24 10:38:52,568 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Country'}
api-1       | 2025-12-24 10:38:52,573 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'SellerID'}
api-1       | 2025-12-24 10:38:52,578 | INFO     | chart_inference | [chart_inference] Schema analysis completed | {'csv_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'elapsed_ms': 86.9, 'row_count': 500, 'column_count': 20, 'numeric_columns': ['Quantity', 'UnitPrice', 'Discount', 'Tax', 'ShippingCost', 'TotalAmount'], 'categorical_columns': ['OrderID', 'OrderDate', 'CustomerID', 'CustomerName', 'ProductID', 'ProductName', 'Category', 'Brand', 'PaymentMethod', 'OrderStatus', 'City', 'State', 'Country', 'SellerID'], 'has_time': False, 'time_column': None, 'is_wide_format': False, 'entity_count': 500}
api-1       | 2025-12-24 10:38:52 | INFO     | chart_inference | [chart_inference] Schema analysis completed | {'csv_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'elapsed_ms': 86.9, 'row_count': 500, 'column_count': 20, 'numeric_columns': ['Quantity', 'UnitPrice', 'Discount', 'Tax', 'ShippingCost', 'TotalAmount'], 'categorical_columns': ['OrderID', 'OrderDate', 'CustomerID', 'CustomerName', 'ProductID', 'ProductName', 'Category', 'Brand', 'PaymentMethod', 'OrderStatus', 'City', 'State', 'Country', 'SellerID'], 'has_time': False, 'time_column': None, 'is_wide_format': False, 'entity_count': 500}
api-1       | 2025-12-24 10:38:52 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_preprocessing] Pipeline paused awaiting template selection | {"run_id": "9b1109bb-881b-49dc-98c4-0f9a2ee05706", "suggestions_count": 5}
api-1       | 2025-12-24 10:38:52 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_preprocessing] Pipeline paused awaiting template selection | {"run_id": "9b1109bb-881b-49dc-98c4-0f9a2ee05706", "suggestions_count": 5}
api-1       | INFO:     192.168.65.1:45724 - "POST /v1/chat/sessions/03daff15-936a-4478-88c9-31def5b19956/messages HTTP/1.1" 201 Created
api-1       | 2025-12-24 10:38:52 | INFO     | uvicorn.access | 192.168.65.1:45724 - "POST /v1/chat/sessions/03daff15-936a-4478-88c9-31def5b19956/messages HTTP/1.1" 201
api-1       | INFO:     192.168.65.1:45724 - "POST /v1/chat/sessions/03daff15-936a-4478-88c9-31def5b19956/messages HTTP/1.1" 201
api-1       | INFO:     192.168.65.1:58704 - "OPTIONS /v1/agents/runs/9b1109bb-881b-49dc-98c4-0f9a2ee05706/select_template HTTP/1.1" 200
api-1       | INFO:     192.168.65.1:58704 - "OPTIONS /v1/agents/runs/9b1109bb-881b-49dc-98c4-0f9a2ee05706/select_template HTTP/1.1" 200 OK
api-1       | 2025-12-24 10:39:00 | INFO     | uvicorn.access | 192.168.65.1:58704 - "OPTIONS /v1/agents/runs/9b1109bb-881b-49dc-98c4-0f9a2ee05706/select_template HTTP/1.1" 200
api-1       | 2025-12-24 10:39:00 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [request_received] Template selection request received | {"run_id": "9b1109bb-881b-49dc-98c4-0f9a2ee05706", "template_id": "bubble", "session_id": null, "column_mapping": {"x_col": "Quantity", "y_col": "UnitPrice", "r_col": "Discount", "entity_col": "OrderID", "time_col": null, "group_col": "OrderID"}}
api-1       | 2025-12-24 10:39:00 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [request_received] Template selection request received | {"run_id": "9b1109bb-881b-49dc-98c4-0f9a2ee05706", "template_id": "bubble", "session_id": null, "column_mapping": {"x_col": "Quantity", "y_col": "UnitPrice", "r_col": "Discount", "entity_col": "OrderID", "time_col": null, "group_col": "OrderID"}}
api-1       | 2025-12-24 10:39:00 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [request_validated] Template selection validated | {"template_id": "bubble"}
api-1       | 2025-12-24 10:39:00 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [request_validated] Template selection validated | {"template_id": "bubble"}
api-1       | 2025-12-24 10:39:00 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_binding] Retrieved pending data from run registry | {"csv_path": "/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv", "original_message_length": 88, "data_binding": {"group_col": "OrderID", "time_col": "OrderDate", "value_col": "Quantity", "normalized_col": "normalized_value", "anomaly_flag_col": "is_anomaly"}}
api-1       | 2025-12-24 10:39:00 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_binding] Retrieved pending data from run registry | {"csv_path": "/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv", "original_message_length": 88, "data_binding": {"group_col": "OrderID", "time_col": "OrderDate", "value_col": "Quantity", "normalized_col": "normalized_value", "anomaly_flag_col": "is_anomaly"}}
api-1       | 2025-12-24 10:39:00 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [template_selected] Template selection validated, starting pipeline resume | {"template_id": "bubble", "csv_path": "/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv", "session_id": ""}
api-1       | 2025-12-24 10:39:00 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [template_selected] Template selection validated, starting pipeline resume | {"template_id": "bubble", "csv_path": "/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv", "session_id": ""}
api-1       | 2025-12-24 10:39:00 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_binding] Validating column mappings against dataset schema | {"template_id": "bubble", "column_mapping": {"x_col": "Quantity", "y_col": "UnitPrice", "r_col": "Discount", "entity_col": "OrderID", "time_col": null, "group_col": "OrderID"}, "csv_path": "/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv"}
api-1       | 2025-12-24 10:39:00 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_binding] Validating column mappings against dataset schema | {"template_id": "bubble", "column_mapping": {"x_col": "Quantity", "y_col": "UnitPrice", "r_col": "Discount", "entity_col": "OrderID", "time_col": null, "group_col": "OrderID"}, "csv_path": "/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv"}
api-1       | 2025-12-24 10:39:00 | INFO     | chart_inference | [chart_inference] Starting schema analysis | {'csv_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'resolved_path': '(same)', 'sample_rows': 500}
api-1       | 2025-12-24 10:39:00,871 | INFO     | chart_inference | [chart_inference] Starting schema analysis | {'csv_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'resolved_path': '(same)', 'sample_rows': 500}
api-1       | 2025-12-24 10:39:00,888 | DEBUG    | chart_inference | [chart_inference] Detected header row | {'header_row': 0, 'score': 7, 'filepath': 'Amazon.csv'}
api-1       | 2025-12-24 10:39:00,931 | DEBUG    | chart_inference | [chart_inference] CSV file loaded | {'csv_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'header_row': 0, 'rows_loaded': 500, 'columns': ['OrderID', 'OrderDate', 'CustomerID', 'CustomerName', 'ProductID', 'ProductName', 'Category', 'Brand', 'Quantity', 'UnitPrice'], 'total_columns': 20}
api-1       | 2025-12-24 10:39:00,938 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'OrderID'}
api-1       | 2025-12-24 10:39:00,949 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'OrderDate'}
api-1       | 2025-12-24 10:39:00,973 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'CustomerID'}
api-1       | 2025-12-24 10:39:00,991 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'CustomerName'}
api-1       | 2025-12-24 10:39:01,010 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'ProductID'}
api-1       | 2025-12-24 10:39:01,025 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'ProductName'}
api-1       | 2025-12-24 10:39:01,030 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Category'}
api-1       | 2025-12-24 10:39:01,036 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Brand'}
api-1       | 2025-12-24 10:39:01,048 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Quantity'}
api-1       | 2025-12-24 10:39:01,060 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'UnitPrice'}
api-1       | 2025-12-24 10:39:01,066 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Discount'}
api-1       | 2025-12-24 10:39:01,067 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Tax'}
api-1       | 2025-12-24 10:39:01,082 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'ShippingCost'}
api-1       | 2025-12-24 10:39:01,096 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'TotalAmount'}
api-1       | 2025-12-24 10:39:01,100 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'PaymentMethod'}
api-1       | 2025-12-24 10:39:01,112 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'OrderStatus'}
api-1       | 2025-12-24 10:39:01,113 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'City'}
api-1       | 2025-12-24 10:39:01,128 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'State'}
api-1       | 2025-12-24 10:39:01,142 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'Country'}
api-1       | 2025-12-24 10:39:01,147 | DEBUG    | chart_inference | [chart_inference] Checking if column is year-like | {'column': 'SellerID'}
api-1       | 2025-12-24 10:39:01 | INFO     | chart_inference | [chart_inference] Schema analysis completed | {'csv_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'elapsed_ms': 297.72, 'row_count': 500, 'column_count': 20, 'numeric_columns': ['Quantity', 'UnitPrice', 'Discount', 'Tax', 'ShippingCost', 'TotalAmount'], 'categorical_columns': ['OrderID', 'OrderDate', 'CustomerID', 'CustomerName', 'ProductID', 'ProductName', 'Category', 'Brand', 'PaymentMethod', 'OrderStatus', 'City', 'State', 'Country', 'SellerID'], 'has_time': False, 'time_column': None, 'is_wide_format': False, 'entity_count': 500}
api-1       | 2025-12-24 10:39:01,169 | INFO     | chart_inference | [chart_inference] Schema analysis completed | {'csv_path': '/app/artifacts/datasets/dataset_20251224_103846/Amazon.csv', 'elapsed_ms': 297.72, 'row_count': 500, 'column_count': 20, 'numeric_columns': ['Quantity', 'UnitPrice', 'Discount', 'Tax', 'ShippingCost', 'TotalAmount'], 'categorical_columns': ['OrderID', 'OrderDate', 'CustomerID', 'CustomerName', 'ProductID', 'ProductName', 'Category', 'Brand', 'PaymentMethod', 'OrderStatus', 'City', 'State', 'Country', 'SellerID'], 'has_time': False, 'time_column': None, 'is_wide_format': False, 'entity_count': 500}
api-1       | 2025-12-24 10:39:01 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_binding] Auto-filled missing required mappings | {"auto_filled": ["size_column=Discount"], "effective_mapping": {"x_col": "Quantity", "y_col": "UnitPrice", "r_col": "Discount", "entity_col": "OrderID", "time_col": null, "group_col": "OrderID", "size_column": "Discount"}}
api-1       | 2025-12-24 10:39:01 | INFO     | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_binding] Auto-filled missing required mappings | {"auto_filled": ["size_column=Discount"], "effective_mapping": {"x_col": "Quantity", "y_col": "UnitPrice", "r_col": "Discount", "entity_col": "OrderID", "time_col": null, "group_col": "OrderID", "size_column": "Discount"}}
api-1       | 2025-12-24 10:39:01 | INFO     | api.routes.templates | [VALIDATION] Validating column mappings for template 'bubble'
api-1       | 2025-12-24 10:39:01 | WARNING  | api.routes.templates | [VALIDATION] Column mappings INVALID for template 'bubble'
api-1       | 2025-12-24 10:39:01 | WARNING  | api.routes.templates | [VALIDATION] Errors: ["Missing required mapping for 'What column for animation time?' (time_column). This template requires a time column for animation, but no time column was detected. Your dataset may need a column with dates/years/timestamps as row values. Consider choosing a different template that doesn't require time-based animation."]
api-1       | 2025-12-24 10:39:01 | ERROR    | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_binding] Column mapping validation failed | {"errors": ["Missing required mapping for 'What column for animation time?' (time_column). This template requires a time column for animation, but no time column was detected. Your dataset may need a column with dates/years/timestamps as row values. Consider choosing a different template that doesn't require time-based animation."], "warnings": ["Column 'OrderID' is used for multiple axes. This may be intentional, but could also indicate a mapping error."], "suggestions": {}}
api-1       | 2025-12-24 10:39:01 | ERROR    | animation_pipeline | [run=9b1109bb-881b-49dc-98c4-0f9a2ee05706] [data_binding] Column mapping validation failed | {"errors": ["Missing required mapping for 'What column for animation time?' (time_column). This template requires a time column for animation, but no time column was detected. Your dataset may need a column with dates/years/timestamps as row values. Consider choosing a different template that doesn't require time-based animation."], "warnings": ["Column 'OrderID' is used for multiple axes. This may be intentional, but could also indicate a mapping error."], "suggestions": {}}
api-1       | INFO:     192.168.65.1:58704 - "POST /v1/agents/runs/9b1109bb-881b-49dc-98c4-0f9a2ee05706/select_template HTTP/1.1" 400 Bad Request
api-1       | 2025-12-24 10:39:01 | INFO     | uvicorn.access | 192.168.65.1:58704 - "POST /v1/agents/runs/9b1109bb-881b-49dc-98c4-0f9a2ee05706/select_template HTTP/1.1" 400
api-1       | INFO:     192.168.65.1:58704 - "POST /v1/agents/runs/9b1109bb-881b-49dc-98c4-0f9a2ee05706/select_template HTTP/1.1" 400


v View in Docker Desktop   o View Config   w Enable Watch
